{% extends 'base.html.twig' %}

{% block title %}Hello ProgramController!
{% endblock %}

{% block body %}
	<table class="table table-striped table-advance table-hover">
		<thead>
			<tr class="bg-entete">
				<th class="col-md-1">Id</th>
				<th class="col-md-1">Name</th>
				<th class="col-md-1">target</th>
				<th class="col-md-1">Made by</th>
				<th class="col-md-1">Created_at</th>
				<th class="col-md-2">Actions<span class="pull-right">
						<a href="" class="btn btn-primary btn-sm">
							<i class="fa fa-save"></i>
							Add new program</a>
					</span>
				</th>

			</tr>
			{% if button is defined %}
				<button type="submit" class="btn btn-primary">
					{{ button }}
				</button>
			{% endif %}
			<div class="container-fluid contenu">
		
					{#in case theres no data yet#}
				
				
					program!!
				</thead><br>
				{% for flash_message in app.flashes('success') %}
					<div class="alert alert-success">
						{{ flash_message }}
					</div>
				{% endfor %}
				<tbody>

					{% for key, program in programs %}
						<tr>
							<td>{{ program.id }}</td>
							<td>{{ program.name }}</td>
							<td>{{ program.target|json_encode }}</td>
							<td>{{ program.custom }}</td>
							<td>25:03:2022</td>
							

							<td
								class="row">

								<!-- formulaire pour demander la modification ou la suppression -->

								<form>
									<button type="submit" class="btn btn-primary btn-sm" formaction="" title="Edit">
										<i title="Edit">
											<i class="fa fa-pencil"></i>
											Edit</button>
										<button type="submit" class="btn btn-danger btn-sm" formaction="" title="Supprimer" onclick="return confirm('Do you really want to delete this program ?');">
											<i class="fa fa-trash-o "></i>
											delete</button>
										{# <input type="hidden" name="_token" value="{{ csrf_token('action-item' ~ program.id) }}"> #}
										{#  ~     pour concat√©ner des chaines en twig #}
										<a class="btn btn-primary btn-sm" formaction="" href = "#">
										<i title="Edit">
											<i class="fa fa-pencil"></i>
											Start Training</a>
									</form>

								</td>
							</td>
						</tr>
					{% endfor %}
				</tbody>
			</table>
			<div class="d-flex justify-content-center">
				</div>
		</thead>
	</div>
{% endblock %}
